window.__require=function e(t,n,i){function o(c,l){if(!n[c]){if(!t[c]){var s=c.split("/");if(s=s[s.length-1],!t[s]){var a="function"==typeof __require&&__require;if(!l&&a)return a(s,!0);if(r)return r(s,!0);throw new Error("Cannot find module '"+c+"'")}c=s}var p=n[c]={exports:{}};t[c][0].call(p.exports,function(e){return o(t[c][1][e]||e)},p,p.exports,e,t,n,i)}return n[c].exports}for(var r="function"==typeof __require&&__require,c=0;c<i.length;c++)o(i[c]);return o}({Level28_1:[function(e,t,n){"use strict";cc._RF.push(t,"f60d0D95sNDMLP71t8yp1Gt","Level28_1");var i,o=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),r=this&&this.__decorate||function(e,t,n,i){var o,r=arguments.length,c=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,n,i);else for(var l=e.length-1;l>=0;l--)(o=e[l])&&(c=(r<3?o(c):r>3?o(t,n,c):o(t,n))||c);return r>3&&c&&Object.defineProperty(t,n,c),c};Object.defineProperty(n,"__esModule",{value:!0});var c=e("../../../Scripts/LevelBase"),l=e("../../../Scripts/EffectManager"),s=cc._decorator,a=s.ccclass,p=s.property,u=cc.tween,h=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.bgFrame=[],t}return o(t,e),t.prototype.onEnable=function(){e.prototype.onEnable.call(this),this._gameManager._levelCurrent.level=this.levelCurrent,this._gameManager._beginScene=this.node},t.prototype.initStage=function(){e.prototype.initStage.call(this),this.setStatus(),this.setAction()},t.prototype.setStatus=function(){this.lupin.node.active=!0,this.lupin.node.scale=.6,this.setLupin(cc.v2(-666,-230),"general/walk","emotion/tired"),this.lupin.setCompleteListener(null),this.otherSprite.forEach(function(e){e.node.active=!1}),this.setBGFrame(0),this.otherSpine[0].node.active=!0,this.setOtherSpine(this.otherSpine[0],cc.v2(750,-472),"level_23_2/nativesoldier_run",null),this.otherSpine[1].node.active=!0,this.setOtherSpine(this.otherSpine[1],cc.v2(952,-393),"level_24_1/soldier_chasing",null),this.otherSpine[2].node.active=!1,this.setOtherSpine(this.otherSpine[2],cc.v2(-120,-230),"level_28_1/bom_hoi",null),this.otherSpine[2].setCompleteListener(null)},t.prototype.setAction=function(){var e=this;this.lupin.setCompleteListener(function(t){"level_28_1/trap_1"===t.animation.name&&(u(e.otherSpine[0].node).to(2,{position:cc.v3(-54,-472)}).call(function(){e.otherSpine[0].setAnimation(0,"level_24_2/dancing",!0)}).start(),u(e.otherSpine[1].node).to(2,{position:cc.v3(342,-393)}).call(function(){e.otherSpine[1].setAnimation(0,"level_23_2/nativesoldier_heart",!0)}).start())}),u(this.lupin.node).to(3,{position:cc.v3(-120,-230)}).call(function(){e.lupin.clearTrack(1),e.lupin.setAnimation(0,"level_28_1/trap_1",!1),e.lupin.addAnimation(0,"level_28_1/trap_2",!0)}).delay(4).call(function(){l.default.hideScene(function(){e.otherSprite[0].node.active=!0,e.otherSprite[1].node.active=!0,e.otherSprite[2].node.active=!0,e.setLupin(cc.v2(e.lupin.node.position),"general/stand_nervous","emotion/tired"),l.default.showScene(),e.scheduleOnce(function(){e.showOptionContainer(!0)},1)},e.node)}).start()},t.prototype.setBGFrame=function(e){this.background.getComponent(cc.Sprite).spriteFrame=this.bgFrame[e]},t.prototype.runOption1=function(){var e=this;this.lupin.setMix("general/stand_nervous","level_28_1/goi_dien_thoai",.3),this.lupin.setToSetupPose(),this.lupin.clearTrack(1),this.lupin.setAnimation(0,"level_28_1/goi_dien_thoai",!1);var t=!1;this.lupin.setCompleteListener(function(n){if("level_28_1/goi_dien_thoai"===n.animation.name){if(t)return;t=!0,e.scheduleOnce(function(){l.default.hideScene(function(){e.setBGFrame(1),e.lupin.node.active=!1,e.otherSpine[0].node.active=!1,e.otherSpine[1].node.active=!1,e.otherSprite[0].node.active=!1,e.otherSprite[1].node.active=!1,e.otherSprite[2].node.active=!1,e.otherSprite[3].node.active=!0,l.default.showScene()},e.node)},2),e.scheduleOnce(function(){l.default.hideScene(function(){e.setBGFrame(2),e.otherSprite[3].node.active=!1,e.otherSprite[4].node.active=!0,l.default.showScene()},e.node)},5),e.scheduleOnce(function(){l.default.hideScene(function(){e.setBGFrame(0),e.lupin.node.active=!0,e.otherSpine[0].node.active=!0,e.otherSpine[0].setAnimation(0,"level_23_2/nativesoldier_angry",!0),e.otherSpine[1].node.active=!0,e.otherSpine[1].setAnimation(0,"level_24_1/soldier_stand_lol",!0),e.otherSprite[0].node.active=!0,e.otherSprite[1].node.active=!0,e.otherSprite[2].node.active=!0,e.otherSprite[4].node.active=!1,l.default.showScene(),e.lupin.setAnimation(0,"level_28_1/khong_nghe_may",!1)},e.node)},9)}"level_28_1/khong_nghe_may"===n.animation.name&&e.showFail(e.selected)})},t.prototype.runOption2=function(){var e=this;this.setLupin(cc.v2(this.lupin.node.position),"general/stand_thinking","emotion/sinister"),this.otherSpine[2].setCompleteListener(function(t){"level_28_1/bom_hoi"===t.animation.name&&e.showFail(e.selected)}),this.scheduleOnce(function(){l.default.hideScene(function(){e.lupin.node.active=!1,e.otherSpine[2].node.active=!0,e.otherSpine[2].setAnimation(0,"level_28_1/bom_hoi",!1),e.otherSpine[0].setAnimation(0,"level_24_1/soldier_stand_see",!0),e.otherSpine[1].setAnimation(0,"level_23_2/nativesoldier_angry",!0),l.default.showScene()},e.node)},1)},t.prototype.runOption3=function(){var e=this;this.lupin.clearTrack(1),this.lupin.setAnimation(0,"level_28_1/drink_red",!1),this.lupin.setCompleteListener(function(t){"level_28_1/drink_red"===t.animation.name&&u(e.lupin.node).to(2,{scale:.2}).call(function(){e.setLupin(cc.v2(e.lupin.node.position),"general/run","emotion/fear_2")}).to(5,{position:cc.v3(628,-230)}).call(function(){e.otherSpine[0].setAnimation(0,"level_23_2/nativesoldier_angry",!0),e.otherSpine[1].setAnimation(0,"level_24_1/soldier_stand_see",!0),e.onPass()}).start()})},r([p(cc.SpriteFrame)],t.prototype,"bgFrame",void 0),r([a],t)}(c.default);n.default=h,cc._RF.pop()},{"../../../Scripts/EffectManager":void 0,"../../../Scripts/LevelBase":void 0}],Level28_2:[function(e,t,n){"use strict";cc._RF.push(t,"2fe20RHYBdEXIn7SHbSfJCK","Level28_2");var i,o=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),r=this&&this.__decorate||function(e,t,n,i){var o,r=arguments.length,c=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,n,i);else for(var l=e.length-1;l>=0;l--)(o=e[l])&&(c=(r<3?o(c):r>3?o(t,n,c):o(t,n))||c);return r>3&&c&&Object.defineProperty(t,n,c),c};Object.defineProperty(n,"__esModule",{value:!0});var c=e("../../../Scripts/LevelBase"),l=e("../../../Scripts/EffectManager"),s=cc._decorator,a=s.ccclass,p=s.property,u=cc.tween,h=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.bgFrames=[],t}return o(t,e),t.prototype.initStage=function(){e.prototype.initStage.call(this),this.setStatus(),this.setAction()},t.prototype.setStatus=function(){this.setLupin(cc.v2(-672,118),"general/walk_slow","emotion/tired"),this.lupin.node.scale=.6,this.lupin.node.active=!0,this.setBGFrame(0),this.otherSpine[0].node.active=!1,this.otherSpine[0].node.position=cc.v3(-126,-68),this.otherSpine[1].node.active=!1,this.otherSpine[1].setAnimation(0,"level_26_2/mc_stone",!1),this.otherSpine[3].node.active=!1,this.otherSpine[3].node.position=cc.v3(778,345),this.otherSprite[0].node.active=!1,this.otherSprite[1].node.active=!1,this.otherSprite[2].node.active=!0,this.otherSprite[2].node.scale=3,this.otherSprite[2].node.position=cc.v3(127,-389),this.otherSprite[3].node.active=!0,this.otherSprite[3].node.position=cc.v3(-751,652),this.otherSprite[4].node.active=!1,this.otherSprite[5].node.active=!1,this.otherSprite[6].node.active=!1,this.otherSprite[6].node.position=cc.v3(371,358)},t.prototype.setAction=function(){var e=this;u(this.lupin.node).to(5,{position:cc.v3(-296,118)}).flipX().call(function(){e.setLupin(cc.v2(e.lupin.node),"general/stand_nervous","emotion/fear_2")}).delay(1).call(function(){l.default.hideScene(function(){e.lupin.node.position=cc.v3(-117,-304),e.lupin.node.scaleX=.6,e.setBGFrame(2),e.otherSprite[0].node.active=!0,e.otherSprite[1].node.active=!0,e.otherSprite[3].node.active=!1,e.otherSprite[2].node.scale=1,e.otherSprite[2].node.position=cc.v3(188,-565),l.default.showScene()},e.node)}).delay(2).call(function(){e.showOptionContainer(!0)}).start(),u(this.otherSprite[3].node).delay(4.5).to(.5,{position:cc.v3(-470,267)}).start()},t.prototype.setBGFrame=function(e){this.background.getComponent(cc.Sprite).spriteFrame=this.bgFrames[e]},t.prototype.hideSpriteMainSence=function(){this.otherSprite[0].node.active=!1,this.otherSprite[1].node.active=!1,this.otherSprite[2].node.active=!1},t.prototype.runOption1=function(){var e=this;this.lupin.setToSetupPose(),this.lupin.setAnimation(0,"level_1/concrete_drilling",!1),this.lupin.setAnimation(1,"emotion/angry",!0),this.lupin.setCompleteListener(function(t){"level_1/concrete_drilling"===t.animation.name&&(e.lupin.setAnimation(0,"level_1/concrete_drilling2",!1),e.lupin.setAnimation(1,"emotion/idle",!0)),"level_1/concrete_drilling2"===t.animation.name&&l.default.hideScene(function(){e.setBGFrame(1),e.background.position=cc.v3(434,0),e.hideSpriteMainSence(),e.lupin.node.position=cc.v3(-724,1074),e.lupin.node.scale=1,e.lupin.timeScale=0,e.lupin.setAnimation(0,"level_1/concrete_drilling",!1),l.default.showScene(),u(e.lupin.node).to(1.5,{position:cc.v3(-604,-221)}).call(function(){e.lupin.timeScale=1,e.lupin.clearTrack(1),e.lupin.setAnimation(0,"general/celebrate_ronaldo2",!0)}).delay(3).call(function(){e.setLupin(cc.v2(e.lupin.node.position),"general/crawl","emotion/sinister"),u(e.background).delay(.5).to(2.5,{position:cc.v3(-443,0)}).start()}).to(3,{position:cc.v3(628,-316)}).call(function(){l.default.hideScene(function(){e.background.position=cc.v3(0,0),e.otherSprite[5].node.active=!0,e.otherSpine[2].setAnimation(0,"general/crawl_idle",!0),e.otherSpine[2].setAnimation(1,"emotion/sinister",!0),l.default.showScene()},e.node)}).delay(2).call(function(){e.otherSpine[2].setAnimation(1,"emotion/fear_1",!0)}).delay(2).call(function(){e.showContinue()}).start()},e.node)})},t.prototype.runOption2=function(){var e=this;this.setLupin(cc.v2(this.lupin.node.position),"general/stand_thinking","emotion/sinister"),this.lupin.setCompleteListener(function(t){"level_1/teleport"===t.animation.name&&(e.otherSpine[0].node.scale=0,e.otherSpine[0].node.active=!0,u(e.otherSpine[0].node).to(.8,{scale:1}).call(function(){e.lupin.setAnimation(0,"general/walk",!0),u(e.lupin.node).delay(1).to(.5,{opacity:0}).start()}).delay(2).call(function(){l.default.hideScene(function(){e.lupin.node.opacity=255,e.lupin.clearTrack(1),e.lupin.setAnimation(0,"general/celebrate_ronaldo2",!0),e.lupin.node.position=cc.v3(201,29),e.setBGFrame(3),e.background.position=cc.v3(-321,0),e.hideSpriteMainSence(),e.otherSpine[0].node.position=cc.v3(191,265),e.otherSpine[1].timeScale=0,e.otherSpine[1].node.active=!0,l.default.showScene(),e.scheduleOnce(function(){u(e.otherSpine[0].node).to(.8,{scale:0}).start()},1),e.scheduleOnce(function(){e.otherSpine[1].timeScale=1,e.otherSpine[1].setAnimation(0,"level_26_2/mc_stone",!1)},3),e.scheduleOnce(function(){e.lupin.node.active=!1,e.otherSprite[4].node.active=!0},3.4),e.scheduleOnce(function(){e.showContinue()},5)},e.node)}).start())}),this.scheduleOnce(function(){e.lupin.setAnimation(0,"level_1/teleport",!1)},1)},t.prototype.runOption3=function(){var e=this;this.setLupin(cc.v2(this.lupin.node.position),"general/stand_thinking","emotion/sinister"),this.otherSpine[3].node.active=!0,this.scheduleOnce(function(){u(e.otherSpine[3].node).to(7,{position:cc.v3(-719,345)}).start()},3),this.scheduleOnce(function(){e.otherSprite[6].node.active=!0,u(e.otherSprite[6].node).to(.5,{position:cc.v3(-5,-300)}).delay(2).call(function(){e.setLupin(cc.v2(e.lupin.node.position),"general/win_1.1","emotion/sinister")}).delay(4).call(function(){e.onPass()}).start()},5),this.scheduleOnce(function(){e.lupin.setAnimation(1,"emotion/whistle",!0)},1)},r([p(cc.SpriteFrame)],t.prototype,"bgFrames",void 0),r([a],t)}(c.default);n.default=h,cc._RF.pop()},{"../../../Scripts/EffectManager":void 0,"../../../Scripts/LevelBase":void 0}],Level28_3:[function(e,t,n){"use strict";cc._RF.push(t,"a4125ZiTLpO5ppwPkXkRBRJ","Level28_3");var i,o=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),r=this&&this.__decorate||function(e,t,n,i){var o,r=arguments.length,c=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,n,i);else for(var l=e.length-1;l>=0;l--)(o=e[l])&&(c=(r<3?o(c):r>3?o(t,n,c):o(t,n))||c);return r>3&&c&&Object.defineProperty(t,n,c),c};Object.defineProperty(n,"__esModule",{value:!0});var c=e("../../../Scripts/LevelBase"),l=e("../../../Scripts/EffectManager"),s=cc._decorator,a=s.ccclass,p=s.property,u=cc.tween,h=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.bgFrames=[],t.otherMasks=[],t}return o(t,e),t.prototype.initStage=function(){e.prototype.initStage.call(this),this.setStatus(),this.setAction()},t.prototype.setStatus=function(){this.lupin.setToSetupPose(),this.setLupin(cc.v2(183,-105),"level_28_3/mc_looking_around",null),this.lupin.node.scaleX=-.5,this.lupin.node.scaleY=.5,this.lupin.setCompleteListener(null),this.setBGFrame(0),this.background.scale=2,this.otherSpine[0].node.active=!1,this.setOtherSpine(this.otherSpine[0],cc.v2(312,-177),"level_28_3/soldier_cot_de",null),this.otherSpine[0].timeScale=0,this.otherSpine[0].setCompleteListener(null),this.otherSprite[0].node.active=!0,this.otherSprite[1].node.active=!1,this.otherSprite[2].node.active=!1,this.otherSprite[2].node.position=cc.v3(-206,427),this.otherSprite[2].node.angle=0,this.otherSprite[2].node.scaleX=.66,this.otherMasks[0].node.active=!1,this.otherMasks[1].node.active=!1},t.prototype.setAction=function(){var e=this;this.lupin.setCompleteListener(function(t){"level_28_3/mc_got_hit"===t.animation.name&&(e.lupin.setCompleteListener(null),l.default.hideScene(function(){e.setBGFrame(1),e.background.scale=1,e.lupin.node.scale=1,e.lupin.setToSetupPose(),e.lupin.setAnimation(0,"level_28_3/mc_tie_idle",!0),e.lupin.node.position=cc.v3(-107,-265),e.otherSpine[0].node.active=!0,e.otherSprite[0].node.active=!1,e.otherSprite[1].node.active=!0,l.default.showScene(),e.scheduleOnce(function(){e.showOptionContainer(!0)},1)},e.node))}),this.scheduleOnce(function(){e.lupin.setAnimation(0,"level_28_3/mc_got_hit",!1)},2)},t.prototype.setBGFrame=function(e){this.background.getComponent(cc.Sprite).spriteFrame=this.bgFrames[e]},t.prototype.runOption1=function(){var e=this;this.lupin.setCompleteListener(function(t){"level_28_3/mc_give_money"===t.animation.name&&(e.otherSpine[0].timeScale=1,e.otherSpine[0].setAnimation(0,"level_28_3/soldier_lol",!1),e.otherSpine[0].addAnimation(0,"level_28_3/soldier_hit",!1),e.otherSpine[0].addAnimation(0,"level_28_3/soldier_lol",!0))}),this.otherSpine[0].setCompleteListener(function(t){"level_28_3/soldier_lol"===t.animation.name&&(e.otherSpine[0].setCompleteListener(null),e.lupin.setAnimation(0,"level_28_3/mc_get_hit",!1),e.lupin.addAnimation(0,"level_28_3/mc_get_hit_idle",!0),e.scheduleOnce(function(){e.showContinue()},3))}),this.scheduleOnce(function(){e.lupin.setAnimation(0,"level_28_3/mc_give_money",!1)},1)},t.prototype.runOption2=function(){var e=this,t=0;this.lupin.setCompleteListener(function(n){"level_28_3/mc_break_out"===n.animation.name&&(e.setLupin(cc.v2(141,-128),"fx/fightcloud",null),e.otherSpine[0].node.opacity=0,e.otherSpine[0].timeScale=1,e.otherSpine[0].setAnimation(0,"level_28_3/soldier_cot_de",!1)),"general/win2"===n.animation.name&&++t>1&&(e.lupin.setAnimation(0,"general/walk",!0),u(e.lupin.node).to(1.5,{position:cc.v3(245,-37)}).call(function(){e.lupin.clearTrack(1),e.lupin.setAnimation(0,"level_28_3/mc_looking_around",!1),e.lupin.addAnimation(0,"level_28_3/mc_got_hit",!1)}).delay(4).call(function(){e.showContinue()}).start())}),this.otherSpine[0].setCompleteListener(function(t){"level_28_3/soldier_cot_de"===t.animation.name&&(e.setLupin(cc.v2(-63,-283),"general/win2",null),e.otherSpine[0].node.opacity=255)}),this.scheduleOnce(function(){e.otherSprite[2].node.active=!0,e.lupin.setAnimation(0,"level_28_3/mc_break_out",!1),e.lupin.addAnimation(0,"fx/fightcloud",!0)},1)},t.prototype.runOption3=function(){var e=this;this.lupin.setCompleteListener(function(t){"level_28_3/mc_break_out2"===t.animation.name&&(e.otherSprite[2].node.position=cc.v3(476,-218),e.otherSprite[2].node.scaleX=-.66,e.otherSprite[2].node.angle=-90,e.otherSprite[2].node.active=!0)}),u(this.lupin.node).delay(1).flipX().to(0,{position:cc.v3(-306,-265)}).delay(.5).flipX().to(0,{position:cc.v3(-107,-265)}).delay(1).flipX().to(0,{position:cc.v3(-306,-265)}).delay(2).flipX().to(0,{position:cc.v3(-107,-265)}).delay(.5).flipX().to(0,{position:cc.v3(-306,-265)}).call(function(){e.lupin.setAnimation(0,"level_28_3/mc_break_out2",!1),e.lupin.addAnimation(0,"general/celebrate_ronaldo2",!0),e.otherSpine[0].timeScale=1,e.otherSpine[0].setAnimation(0,"level_28_3/soldier_cot_de",!1)}).delay(4).flipX().call(function(){e.setLupin(cc.v2(e.lupin.node.position),"general/run","emotion/fear_2"),e.otherMasks[0].node.active=!0,e.otherMasks[1].node.active=!0}).to(3,{position:cc.v3(367,103)}).call(function(){e.showSuccess()}).start()},r([p(cc.SpriteFrame)],t.prototype,"bgFrames",void 0),r([p(cc.Mask)],t.prototype,"otherMasks",void 0),r([a],t)}(c.default);n.default=h,cc._RF.pop()},{"../../../Scripts/EffectManager":void 0,"../../../Scripts/LevelBase":void 0}]},{},["Level28_1","Level28_2","Level28_3"]);